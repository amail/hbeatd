=======================
Comfirm hbeatd - README
=======================
(C) 2012 Comfirm AB

Simple, lightweight and zero-configuration heartbeat sensor and pulse generator.

Authors:
Jack Engqvist Johansson, Comfirm AB
http://comfirm.se

License:
BSD 3-Clause
See the LICENSE file

Usage
=====
 usage: hbeatd [-v [-s | -p [-d]] -P -r]
  -p	run as heartbeat pulse (default)
  -s	run as heartbeat sensor
  -v	verbose mode
  -d	destination ip adress (default = 127.0.0.1)
  -P	destination port number (default = 6220)
  -i	interval in seconds (default = 1)
  
How it works
============
 The pulse program on the nodes sends udp packages to chosen sensor. The sensor
 collects the ip's and builds a list. Then it collects ip's again and then
 compare the lists. If the lists is different, some action is taken and the list
 is updated. The action in this case is running a script located at
 /etc/hbeatd/rc.d.
 
Script
======
The script has two arguments, command and node ip. The command argument can be 
rm or add.

Example rc.d:
-------------
#!/bin/sh

if [ "$1" = "rm" ]; then
        echo "node $2 is dead" > /home/jack/temp/test
fi

exit
-------------

Installation
============
 Make sure that /etc/hbeatd/rc.d exists and is executable.


